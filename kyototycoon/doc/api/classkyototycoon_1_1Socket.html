<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kyoto Tycoon: kyototycoon::Socket Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kyoto Tycoon
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacekyototycoon.html">kyototycoon</a>      </li>
      <li class="navelem"><a class="el" href="classkyototycoon_1_1Socket.html">Socket</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">kyototycoon::Socket Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="kyototycoon::Socket" --><!-- doxytag: inherits="kyototycoon::Pollable" -->
<p>Network stream abstraction based on TCP/IP.  
 <a href="classkyototycoon_1_1Socket.html#details">More...</a></p>

<p><code>#include &lt;ktsocket.h&gt;</code></p>

<p><a href="classkyototycoon_1_1Socket-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#a95a3d968d2abd0a481e65662b1a31f7b">Socket</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a95a3d968d2abd0a481e65662b1a31f7b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#a11348063e31e127b7ba5cd45542449eb">~Socket</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a11348063e31e127b7ba5cd45542449eb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#a9cf46d222b7cc5d6747758c1c91a0358">error</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last happened error information.  <a href="#a9cf46d222b7cc5d6747758c1c91a0358"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#a31c44d97f36f553c24c21951dd00dc5f">open</a> (const std::string &amp;expr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a client socket.  <a href="#a31c44d97f36f553c24c21951dd00dc5f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#a368486fb3ea520c145c8ce9d2ba4a1f2">close</a> (bool grace=true)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the socket.  <a href="#a368486fb3ea520c145c8ce9d2ba4a1f2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#a56ccc6df632277130bd986d87f756351">send</a> (const void *buf, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data.  <a href="#a56ccc6df632277130bd986d87f756351"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#a4502b4c5d8855413c4ce56d4df258b5e">send</a> (const std::string &amp;str)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data.  <a href="#a4502b4c5d8855413c4ce56d4df258b5e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#aa8445db356fcb745d5c249b42c900956">printf</a> (const char *format,...)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send formatted data.  <a href="#aa8445db356fcb745d5c249b42c900956"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#ac04406a63d705d79b41a5b96cd28df5c">vprintf</a> (const char *format, va_list ap)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send formatted data.  <a href="#ac04406a63d705d79b41a5b96cd28df5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#a14c245cb3787766e6365f60efd5e2cbf">receive</a> (void *buf, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data.  <a href="#a14c245cb3787766e6365f60efd5e2cbf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#aa350f2290210c424e61be7022d42788d">receive_byte</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive one byte.  <a href="#aa350f2290210c424e61be7022d42788d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#ae00889234fcb4def336cb28920ebfc04">undo_receive_byte</a> (int32_t c)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Push one byte back.  <a href="#ae00889234fcb4def336cb28920ebfc04"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#aeb68a22d86a3f7c60ce3b5078c2be0ef">receive_line</a> (void *buf, size_t max)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive one line of characters.  <a href="#aeb68a22d86a3f7c60ce3b5078c2be0ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#ab37623152d371962ced5fdc73a653f43">left_size</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of left data in the receiving buffer.  <a href="#ab37623152d371962ced5fdc73a653f43"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#af34d01cc1719bc70448041819005f310">abort</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort the current operation.  <a href="#af34d01cc1719bc70448041819005f310"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#aab4ef5ea1d2dfe5f95ebef76cba91c0e">set_timeout</a> (double timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the timeout of each operation.  <a href="#aab4ef5ea1d2dfe5f95ebef76cba91c0e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#a42e78749eb3c60612e6389059a01c97f">expression</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the expression of the socket.  <a href="#a42e78749eb3c60612e6389059a01c97f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#acbbd8b28b615bbef8c26aba2a52256c8">descriptor</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the descriptor integer.  <a href="#acbbd8b28b615bbef8c26aba2a52256c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#ace27aaffeeee28d20341d14b010aa1fa">set_event_flags</a> (uint32_t flags)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set event flags.  <a href="#ace27aaffeeee28d20341d14b010aa1fa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#a52a020830a40fdaeb7ed7d0bb0fbc9dc">event_flags</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current event flags.  <a href="#a52a020830a40fdaeb7ed7d0bb0fbc9dc"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#abea0900e33d8cb5acd8ec44849072f3b">get_local_host_name</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the primary name of the local host.  <a href="#abea0900e33d8cb5acd8ec44849072f3b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkyototycoon_1_1Socket.html#a2cb9c6f10a53c99aa68be7cd1d256d4b">get_host_address</a> (const std::string &amp;name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the address of a host.  <a href="#a2cb9c6f10a53c99aa68be7cd1d256d4b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11a8bb11feaafab939278a8285afa567"></a><!-- doxytag: member="kyototycoon::Socket::ServerSocket" ref="a11a8bb11feaafab939278a8285afa567" args="" -->
class&#160;</td><td class="memItemRight" valign="bottom"><b>ServerSocket</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Network stream abstraction based on TCP/IP. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a95a3d968d2abd0a481e65662b1a31f7b"></a><!-- doxytag: member="kyototycoon::Socket::Socket" ref="a95a3d968d2abd0a481e65662b1a31f7b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkyototycoon_1_1Socket.html#a95a3d968d2abd0a481e65662b1a31f7b">kyototycoon::Socket::Socket</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default constructor. </p>

</div>
</div>
<a class="anchor" id="a11348063e31e127b7ba5cd45542449eb"></a><!-- doxytag: member="kyototycoon::Socket::~Socket" ref="a11348063e31e127b7ba5cd45542449eb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkyototycoon_1_1Socket.html#a11348063e31e127b7ba5cd45542449eb">kyototycoon::Socket::~Socket</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9cf46d222b7cc5d6747758c1c91a0358"></a><!-- doxytag: member="kyototycoon::Socket::error" ref="a9cf46d222b7cc5d6747758c1c91a0358" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="classkyototycoon_1_1Socket.html#a9cf46d222b7cc5d6747758c1c91a0358">kyototycoon::Socket::error</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the last happened error information. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the last happened error information. </dd></dl>

</div>
</div>
<a class="anchor" id="a31c44d97f36f553c24c21951dd00dc5f"></a><!-- doxytag: member="kyototycoon::Socket::open" ref="a31c44d97f36f553c24c21951dd00dc5f" args="(const std::string &amp;expr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classkyototycoon_1_1Socket.html#a31c44d97f36f553c24c21951dd00dc5f">kyototycoon::Socket::open</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>expr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open a client socket. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">expr</td><td>an expression of the address and the port of the server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, or false on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a368486fb3ea520c145c8ce9d2ba4a1f2"></a><!-- doxytag: member="kyototycoon::Socket::close" ref="a368486fb3ea520c145c8ce9d2ba4a1f2" args="(bool grace=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classkyototycoon_1_1Socket.html#a368486fb3ea520c145c8ce9d2ba4a1f2">kyototycoon::Socket::close</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>grace</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close the socket. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">grace</td><td>true for graceful shutdown, or false for immediate disconnection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, or false on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a56ccc6df632277130bd986d87f756351"></a><!-- doxytag: member="kyototycoon::Socket::send" ref="a56ccc6df632277130bd986d87f756351" args="(const void *buf, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classkyototycoon_1_1Socket.html#a56ccc6df632277130bd986d87f756351">kyototycoon::Socket::send</a> </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send data. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>the pointer to a data region to send. </td></tr>
    <tr><td class="paramname">size</td><td>the size of the data region. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, or false on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a4502b4c5d8855413c4ce56d4df258b5e"></a><!-- doxytag: member="kyototycoon::Socket::send" ref="a4502b4c5d8855413c4ce56d4df258b5e" args="(const std::string &amp;str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classkyototycoon_1_1Socket.html#a56ccc6df632277130bd986d87f756351">kyototycoon::Socket::send</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send data. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>a string to send. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, or false on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="aa8445db356fcb745d5c249b42c900956"></a><!-- doxytag: member="kyototycoon::Socket::printf" ref="aa8445db356fcb745d5c249b42c900956" args="(const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classkyototycoon_1_1Socket.html#aa8445db356fcb745d5c249b42c900956">kyototycoon::Socket::printf</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send formatted data. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>the printf-like format string. The conversion character `' can be used with such flag characters as `s', `d', `o', `u', `x', `X', `c', `e', `E', `f', `g', `G', and `'. </td></tr>
    <tr><td class="paramname">...</td><td>used according to the format string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, or false on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ac04406a63d705d79b41a5b96cd28df5c"></a><!-- doxytag: member="kyototycoon::Socket::vprintf" ref="ac04406a63d705d79b41a5b96cd28df5c" args="(const char *format, va_list ap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classkyototycoon_1_1Socket.html#ac04406a63d705d79b41a5b96cd28df5c">kyototycoon::Socket::vprintf</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send formatted data. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>the printf-like format string. The conversion character `' can be used with such flag characters as `s', `d', `o', `u', `x', `X', `c', `e', `E', `f', `g', `G', and `'. </td></tr>
    <tr><td class="paramname">ap</td><td>used according to the format string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, or false on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a14c245cb3787766e6365f60efd5e2cbf"></a><!-- doxytag: member="kyototycoon::Socket::receive" ref="a14c245cb3787766e6365f60efd5e2cbf" args="(void *buf, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classkyototycoon_1_1Socket.html#a14c245cb3787766e6365f60efd5e2cbf">kyototycoon::Socket::receive</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receive data. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>the pointer to the buffer into which the received data is written. </td></tr>
    <tr><td class="paramname">size</td><td>the size of the data to receive. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, or false on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="aa350f2290210c424e61be7022d42788d"></a><!-- doxytag: member="kyototycoon::Socket::receive_byte" ref="aa350f2290210c424e61be7022d42788d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t <a class="el" href="classkyototycoon_1_1Socket.html#aa350f2290210c424e61be7022d42788d">kyototycoon::Socket::receive_byte</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receive one byte. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the received byte or -1 on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ae00889234fcb4def336cb28920ebfc04"></a><!-- doxytag: member="kyototycoon::Socket::undo_receive_byte" ref="ae00889234fcb4def336cb28920ebfc04" args="(int32_t c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classkyototycoon_1_1Socket.html#ae00889234fcb4def336cb28920ebfc04">kyototycoon::Socket::undo_receive_byte</a> </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Push one byte back. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>specifies the byte. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, or false on failure. </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The character is available for subsequent receive operations. Only one pushback is guaranteed. </dd></dl>

</div>
</div>
<a class="anchor" id="aeb68a22d86a3f7c60ce3b5078c2be0ef"></a><!-- doxytag: member="kyototycoon::Socket::receive_line" ref="aeb68a22d86a3f7c60ce3b5078c2be0ef" args="(void *buf, size_t max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classkyototycoon_1_1Socket.html#aeb68a22d86a3f7c60ce3b5078c2be0ef">kyototycoon::Socket::receive_line</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receive one line of characters. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>the pointer to the buffer into which the received data is written. </td></tr>
    <tr><td class="paramname">max</td><td>the maximum size of the data to receive. It must be more than 0. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, or false on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ab37623152d371962ced5fdc73a653f43"></a><!-- doxytag: member="kyototycoon::Socket::left_size" ref="ab37623152d371962ced5fdc73a653f43" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classkyototycoon_1_1Socket.html#ab37623152d371962ced5fdc73a653f43">kyototycoon::Socket::left_size</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the size of left data in the receiving buffer. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the size of left data in the receiving buffer. </dd></dl>

</div>
</div>
<a class="anchor" id="af34d01cc1719bc70448041819005f310"></a><!-- doxytag: member="kyototycoon::Socket::abort" ref="af34d01cc1719bc70448041819005f310" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classkyototycoon_1_1Socket.html#af34d01cc1719bc70448041819005f310">kyototycoon::Socket::abort</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Abort the current operation. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, or false on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="aab4ef5ea1d2dfe5f95ebef76cba91c0e"></a><!-- doxytag: member="kyototycoon::Socket::set_timeout" ref="aab4ef5ea1d2dfe5f95ebef76cba91c0e" args="(double timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classkyototycoon_1_1Socket.html#aab4ef5ea1d2dfe5f95ebef76cba91c0e">kyototycoon::Socket::set_timeout</a> </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the timeout of each operation. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>the timeout of each operation in seconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, or false on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a42e78749eb3c60612e6389059a01c97f"></a><!-- doxytag: member="kyototycoon::Socket::expression" ref="a42e78749eb3c60612e6389059a01c97f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string <a class="el" href="classkyototycoon_1_1Socket.html#a42e78749eb3c60612e6389059a01c97f">kyototycoon::Socket::expression</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the expression of the socket. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the expression of the socket or an empty string on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="acbbd8b28b615bbef8c26aba2a52256c8"></a><!-- doxytag: member="kyototycoon::Socket::descriptor" ref="acbbd8b28b615bbef8c26aba2a52256c8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t <a class="el" href="classkyototycoon_1_1Socket.html#acbbd8b28b615bbef8c26aba2a52256c8">kyototycoon::Socket::descriptor</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the descriptor integer. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the descriptor integer, or -1 on failure. </dd></dl>

<p>Implements <a class="el" href="classkyototycoon_1_1Pollable.html#abd95921a61af7ce86a6ee6f55f3da398">kyototycoon::Pollable</a>.</p>

</div>
</div>
<a class="anchor" id="ace27aaffeeee28d20341d14b010aa1fa"></a><!-- doxytag: member="kyototycoon::Socket::set_event_flags" ref="ace27aaffeeee28d20341d14b010aa1fa" args="(uint32_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classkyototycoon_1_1Socket.html#ace27aaffeeee28d20341d14b010aa1fa">kyototycoon::Socket::set_event_flags</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set event flags. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td>specifies the event mode. The following may be added by bitwise-or: <a class="el" href="classkyototycoon_1_1Pollable.html#ac043b418ebfd6142efade4bb8eb3fe81a3e05f448652308c598114f42d05fa6b2" title="input">Socket::EVINPUT</a> for input events, <a class="el" href="classkyototycoon_1_1Pollable.html#ac043b418ebfd6142efade4bb8eb3fe81a1fb880343a7c12c89d2fc00aaf6e0ff4" title="output">Socket::EVOUTPUT</a> for output events, <a class="el" href="classkyototycoon_1_1Pollable.html#ac043b418ebfd6142efade4bb8eb3fe81af497bc6f2a881d6cd8ec4d2871630959" title="exception">Socket::EVEXCEPT</a> for exception events. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classkyototycoon_1_1Pollable.html#ad7a6359553dea9d43bf7f2e4a6f0dd05">kyototycoon::Pollable</a>.</p>

</div>
</div>
<a class="anchor" id="a52a020830a40fdaeb7ed7d0bb0fbc9dc"></a><!-- doxytag: member="kyototycoon::Socket::event_flags" ref="a52a020830a40fdaeb7ed7d0bb0fbc9dc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classkyototycoon_1_1Socket.html#a52a020830a40fdaeb7ed7d0bb0fbc9dc">kyototycoon::Socket::event_flags</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current event flags. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the current event flags. </dd></dl>

<p>Implements <a class="el" href="classkyototycoon_1_1Pollable.html#a17afee8f293173905428f59782e5108a">kyototycoon::Pollable</a>.</p>

</div>
</div>
<a class="anchor" id="abea0900e33d8cb5acd8ec44849072f3b"></a><!-- doxytag: member="kyototycoon::Socket::get_local_host_name" ref="abea0900e33d8cb5acd8ec44849072f3b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static std::string <a class="el" href="classkyototycoon_1_1Socket.html#abea0900e33d8cb5acd8ec44849072f3b">kyototycoon::Socket::get_local_host_name</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the primary name of the local host. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the host name, or an empty string on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a2cb9c6f10a53c99aa68be7cd1d256d4b"></a><!-- doxytag: member="kyototycoon::Socket::get_host_address" ref="a2cb9c6f10a53c99aa68be7cd1d256d4b" args="(const std::string &amp;name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static std::string <a class="el" href="classkyototycoon_1_1Socket.html#a2cb9c6f10a53c99aa68be7cd1d256d4b">kyototycoon::Socket::get_host_address</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the address of a host. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the host address, or an empty string on failure. </dd></dl>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri May 25 2012 02:44:32 for Kyoto Tycoon by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
